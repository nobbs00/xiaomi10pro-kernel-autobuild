name: ç¼–è¯‘KSUNâ€”â€”SUSå†…æ ¸
run-name: ${{ github.actor }} æ­£åœ¨ç¼–è¯‘ éªé¾™865 å°ç±³ç³»åˆ—å†…æ ¸ï¼ğŸš€ ğŸš€
on:
  workflow_dispatch:
    inputs:
      phone:
        description: 'é€‰æ‹©æ‰‹æœºå‹å·ï¼š'
        required: true
        default: 'å°ç±³10pro'
        type: choice
        options:
          - å°ç±³10pro
jobs:
  build_job:
    runs-on: ubuntu-22.04
    env:
      CCACHE_COMPILERCHECK: "%compiler% -dumpmachine; %compiler% -dumpversion"
      CCACHE_NOHASHDIR: "true"
      CCACHE_HARDLINK: "true"
      CI: "false"
          mkdir -p $GITHUB_WORKSPACE/kernel_workspace
          cd $GITHUB_WORKSPACE/kernel_workspace
          wget -q https://github.com/ZyCromerZ/Clang/releases/download/19.0.0git-20240125-release/Clang-19.0.0git-20240125.tar.gz
          mkdir -p clang
          tar -xzf Clang-19.0.0git-20240125.tar.gz -C clang
          mkdir proton-clang
					cd proton-clang
					wget https://github.com/kdrag0n/proton-clang/archive/refs/tags/20210522.zip
					unzip 20210522.zip
				  cd ..
          git clone -b android14-lineage21-mod-test-pr-los22 https://github.com/liyafe1997/kernel_xiaomi_sm8250_mod.git
          bash build.sh cmi ksu
