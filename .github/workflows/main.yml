name: ç¼–è¯‘KSUNâ€”â€”SUSå†…æ ¸
run-name: ${{ github.actor }} æ­£åœ¨ç¼–è¯‘ éªé¾™865 å°ç±³ç³»åˆ—å†…æ ¸ï¼ğŸš€ ğŸš€

on:
  workflow_dispatch:
    inputs:
      phone:
        description: 'é€‰æ‹©æ‰‹æœºå‹å·ï¼š'
        required: true
        default: 'å°ç±³10pro'
        type: choice
        options:
          - å°ç±³10pro
    
jobs:
  build_job:
    runs-on: ubuntu-22.04
    steps:
    - name: è®¾ç½®ç¼–è¯‘ç¯å¢ƒ
      run: |
        mkdir -p proton-clang
        cd proton-clang
        wget https://github.com/kdrag0n/proton-clang/archive/refs/tags/20210522.zip
        unzip 20210522.zip
        cd ..
        
    - name: å…‹éš†å†…æ ¸æºç 
      run: |
        git clone https://github.com/nobbs00/kernel_xiaomi_10pro_mod.git
        
    - name: å¼€å§‹ç¼–è¯‘
      run: |
        cd kernel_xiaomi_10pro_mod
        bash build.sh cmi ksu
